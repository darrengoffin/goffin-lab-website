<!DOCTYPE html>
<html>
<head>
<title>GoffinLab</title>
<meta name="supported-color-schemes" content="light dark">
	
<link id="theme" href="assets/stylesheets/light.css" media="screen" rel="Stylesheet" type="text/css" />
<link href="assets/stylesheets/shared.css" media="screen" rel="Stylesheet" type="text/css" />
	
<script type="text/javascript">
	
function switchThemes() {
			console.log("switching themes...");
			var stylesheetLinkElement = document.getElementById('theme');
			if (stylesheetLinkElement.getAttribute('href') == 'assets/stylesheets/light.css') {
				stylesheetLinkElement.setAttribute('href', 'assets/stylesheets/dark.css');
			}
			else {
				stylesheetLinkElement.setAttribute('href', 'assets/stylesheets/light.css');
			}
		}
		
		/*
			You can check the prefers-color-scheme media query with JavaScript and update the page
			accordingly. This would be handy if you're doing configuration on the page.
		*/
		function checkPrefersColorScheme() {
			console.log("checking prefers-color-scheme..");
			var status = 'not present'
			var mediaQueryList = window.matchMedia('(prefers-color-scheme: dark)');
			if (mediaQueryList.matches) {
				status = '"dark"';
			}
			else {
				mediaQueryList = window.matchMedia('(prefers-color-scheme: light)');
				if (mediaQueryList.matches) {
					status = '"light"';
				}
			}
			var statusElement = document.getElementById('color_scheme_status');
			statusElement.innerHTML = 'Your browser\'s <code>prefers-color-scheme</code> is ' + status + '.';
			
			/*
				The media query list can have a listener which will be called when the user switches
				between light and dark modes. It works just like addEventListener() because it inherits
				from EventTarget.
			*/
			mediaQueryList.addListener( function(mql) {
				console.log('event listener for ' + mql.media + ' changed to ' + mql.matches);	
				var status = 'not defined';
				if (mql.media == '(prefers-color-scheme: light)') {
					status = (mql.matches ? '"light"' : '"dark"');
				}
				else if (mql.media == '(prefers-color-scheme: dark)') {
					status = (mql.matches ? '"dark"' : '"light"');
				}
				var statusElement = document.getElementById('color_scheme_status');
				statusElement.innerHTML = 'Your browser\'s <code>prefers-color-scheme</code> changed to ' + status + '.';
			});
		}
	</script>

</head>

<body onload="checkPrefersColorScheme();">

<header class="header">
<div class="header-limiter">
<h1><a href="#">Goffin<span>lab</span></a></h1>
<nav>
  <a href="#">Home</a>
  <a href="#" class="selected">People</a>
  <a href="/publications/">Publications</a>
  <a href="#">News</a>
  <a href="#">Contact</a>
</nav>
</div>
</header>
	
<section id="text">

<h2>Text</h2>
		<p>
			This text color should change when you click on the <strong>Switch Themes</strong> button below. The <code>background-color</code> of the body and the <code>border-color</code> used on the header above will change, too. This can be automated with media queries.
		</p>
		<p class="highlighted">
			Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
		</p>
	</section>





	

<footer>
	
<section id="controls">
     <button onclick="switchThemes();">Click to Switch Themes</button>
</section>
</footer>
	
</body>
</html>
